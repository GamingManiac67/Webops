<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&family=Shadows+Into+Light&family=Urbanist:wght@300&display=swap" rel="stylesheet">

    <title>API Display</title>
    <style>

   

        /* Dark Mode Styles */
        body.dark-mode {
            background: #333;
            color: #fff;
        }

        .container.dark-mode {
            background: #222;
        }
        .box.dark-mode {
            border: 0.0625em solid #666;
            background: #ffee32;
        }

        .box-content p.dark-mode {
            color: #f7fff7;
        }


        


        body {
            background: #bbd0ff;
            font-family: 'Urbanist', sans-serif;
            color:#fae1dd;
        }
        .container {
            text-align: center;
            margin-top: 3em;
        }
       
        .box {
            width: 18em;
            height: 12em;
            border: 0.1em solid #2E294E;
            padding: 0.625em;
            margin: 1.25em;
            box-sizing: border-box;
            border-radius: 0.625em;
            cursor: pointer;
            perspective: 1000px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1em;
            position: relative;
        
            overflow-y: auto;
        }
        .box::-webkit-scrollbar {
        display: none;
        }

        .joke-box{
            background: #c8b6ff;
        }
        .quote-box{
            background: #da7ada;
        }
        .transition {
            transition: transform 0.5s, background 0.5s;
        }

        
        .box-content p {
            margin-top: -0.5em;
            max-height: 4em;
            margin: 0.5em 0;
            text-align: center;
            overflow-y: auto; 
        }
        .box-content p:first-child {
            margin-top: -0.5em; /* Adjust the value as needed */
        }
        .box-content {
            margin-top: -2em;
            max-height: 8em; /* Set a maximum height for the content */
            overflow-y: auto;
            padding: 0.5em; /* Add some padding to the content */
        }
        .box-inner {
            width: 100%;
            height: 100%;
            text-align: left;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }

        .box-front, .box-back {
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            padding: 1em;
            box-sizing: border-box;
        }

        .box-front {
            transform: rotateY(0deg);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }
        body.dark-mode {
            background: #0b132b;
            color: #fff;
        }

        /* Style for the toggle button */
        #toggle-dark-mode {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #000;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Add this style for dark mode */
        body.dark-mode #toggle-dark-mode {
            background-color: #fff;
            color: #000;
        }

        .text-capitalize {
            text-transform: capitalize;
        }
        .box-back {
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }
        .box:hover {
            transform: scale(1.05);
        }
        .box-content p {
            margin: 0.5em 0;
            text-align: center;
        }

        .box-content p:first-child {
            font-weight: bold;
            text-transform: capitalize;
        }
        .dark-box{
            background-color: #023a40;
        }
        .parent-element {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .social-icons-container {
            position: relative;
            bottom: 0.5em;
            align-items: center;
            
            display: flex;
            gap: 0.5em; /* Adjust the gap between icons */
        }

        .social-icons-container a {
            text-decoration: none;
        }

        .social-icons-container img {
            width: 2em;
            height: auto;
        }

        @media (max-width: 767px) {
            .box {
                width: 100%;
                margin: 1.25em 0;
            }
            .social-icons-container {
                display: flex;
                justify-content: flex-end;
                align-items: center;
                flex-wrap: wrap;
                gap: 1em;
                margin-top: 1em;
                padding: 0.5em;
                position: relative;
                bottom: 0;
                right: 0;
                left: 0;
            }

            .social-icons-container a {
                text-decoration: none;
                display: flex;
                align-items: center;
            }

            .social-icons-container img {
                width: 2em;
                height: auto;
                margin-right: 0.5em;
            }
        }

        @media (min-width: 768px) {
            .container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .box {
                flex: 0 0 calc(33.33% - 2.5em);
            }
        }

        .custom-text {
            font-family: 'Kaushan Script', cursive;
            font-weight: normal;
            font-size: 4em; /* Set font size to 2 times the default size */
            text-align: center;
            color:#ffe5d9;
 
        }
        .custom-text_3 {
            font-family: 'Kaushan Script', cursive;
            font-size: 2em;
            position: relative; 
            bottom: -0.5em; /* Adjust the distance from the bottom */
            color:#ffe5d9;
            text-align: center;
            
        }

 

    </style>

</head>
<body>

    <h1 class="custom-text">API Display</h1>

    <button id="toggle-dark-mode">Dark Mode</button> <!-- Added dark mode toggle button -->

    <div class="container">
        <!-- Boxes will be displayed here -->
    </div>
    <div class="parent-element">
        <h2 class = "custom-text_3">Saranathan</h2>
        <div class="social-icons-container">
            <a href="mailto:ee22b043@smail.iitm.ac.in" target="_blank">
                <img src="Icons\gmail.svg" alt="Your ">
            </a>
            
            <a href="https://www.instagram.com/saranathan_67/" target="_blank">
                <img src="Icons\instagram.svg" alt="Your  Image">
            </a>
            <a href="https://www.linkedin.com/in/saranathan-d-8098a4260/" target="_blank">
                <img src="Icons\linkedin.svg" alt="Your SVG mage">
            </a>
            <a href="https://twitter.com/sergio8mar" target="_blank">
                <img src="Icons\twitterx.svg" alt="Yur SVG Image">
            </a>
            <a href="https://wa.me/9361163151" target="_blank" >
                <img src="Icons\whatsapp.svg" alt="Yr SVG Image">
            </a> 
        </div>
    </div>


    <script>
        let data = [];
        let isQuote = [];

        function fetchJokeData(box) {
            fetch('https://official-joke-api.appspot.com/random_joke')
                .then(response => response.json())
                .then(jokeData => {
                    const contentElement = box.querySelector('.box-front');
                    contentElement.innerHTML = `
                        <p class="text-capitalize">${jokeData.type}</p>
                        <p>${jokeData.setup}</p>
                        <p>${jokeData.punchline}</p>
                    `;
                    data.push(jokeData);
                    isQuote.push(false);
                })
                .catch(error => console.error('Error:', error));
        }

        function fetchQuoteData(box) {
            fetch('https://api.quotable.io/random')
                .then(response => response.json())
                .then(quoteData => {
                    const contentElement = box.querySelector('.box-back');
                    contentElement.innerHTML = `
                        <p>${quoteData.tags.join(', ')}</p>
                        <p>${quoteData.content}</p>
                        <p>${quoteData.author}</p>
                    `;
                    data.push(quoteData);
                    isQuote.push(true);
                })
                .catch(error => console.error('Error:', error));
        }

        function handleTap(box, index) {
            const currentIndex = index % data.length;
            const boxInner = box.querySelector('.box-inner');

            if (isQuote[currentIndex]) {
                boxInner.style.transform = 'rotateY(0deg)';
                isQuote[currentIndex] = false;
                box.classList.remove('quote-box')
                box.classList.add('joke-box','transition');

            } else {
                boxInner.style.transform = 'rotateY(180deg)';
                isQuote[currentIndex] = true; 
                box.classList.remove('joke-box');
                box.classList.add('quote-box','transition');
            }
        }

        function createBox(index) {
            const box = document.createElement('div');
            const boxTypeClass = isQuote[index] ? 'quote-box' : 'joke-box'; // Determine the class based on content type
            box.classList.add('box', 'transition', boxTypeClass);

            const boxInner = document.createElement('div');
            boxInner.classList.add('box-inner');

            const boxFront = document.createElement('div');
            boxFront.classList.add('box-front');
            boxInner.appendChild(boxFront);

            const boxBack = document.createElement('div');
            boxBack.classList.add('box-back');
            boxInner.appendChild(boxBack);

            box.addEventListener('click', () => handleTap(box, index));
            box.appendChild(boxInner);
            return box;
        }

        function fetchDataAndGenerateBoxes() {
            const container = document.querySelector('.container');

            for (let i = 0; i < 6; i++) {
                const box = createBox(i);
                fetchJokeData(box);
                fetchQuoteData(box);
                container.appendChild(box);
            }
        }

        fetchDataAndGenerateBoxes();
        box = document.querySelector(".box")
        document.getElementById('toggle-dark-mode').addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const boxes = document.querySelectorAll('.box'); // Select all boxes
            boxes.forEach(box => {
                box.classList.toggle('dark-box'); // Toggle the dark-box class for each box
            });

        const isDarkMode = document.body.classList.contains('dark-mode');
        localStorage.setItem('dark-mode', isDarkMode);

        // Update button text
        const toggleButton = document.getElementById('toggle-dark-mode');
        toggleButton.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
        });

        // Check if user previously chose dark mode
        const savedDarkMode = localStorage.getItem('dark-mode');
        if (savedDarkMode === 'true') {
            document.body.classList.add('dark-mode');
            const boxes = document.querySelectorAll('.box'); // Select all boxes
            boxes.forEach(box => {
        box.classList.toggle('dark-box'); // Toggle the dark-box class for each box
        });
            document.getElementById('toggle-dark-mode').textContent = 'Light Mode';
        }
        
    </script>

</body>
</html>
